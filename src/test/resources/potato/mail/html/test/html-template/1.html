<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0046)http://htmlcleaner.sourceforge.net/javause.php -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
        
        <meta name="keywords" content="htmlcleaner, html parser, html cleaner, html to xml, html tidy">
        <title>HtmlCleaner Project Home Page</title>
        <link rel="stylesheet" href="./1_files/main.css" type="text/css">
        <link rel="stylesheet" href="./1_files/code.css" type="text/css">
        <script><!--
            function menuRowOver(row) {
                row.className="menurowover";
            }
            function menuRowOut(row) {
                row.className="menurow";
            }
            function gotoPage(page) {
                document.location.href = page;
            }
        --></script>
    </head>
    
    <body>
        <table class="whole" align="center" cellspacing="0" cellpadding="0">
            <tbody><tr>
                <td colspan="2"><img src="./1_files/top.jpg" border="0"></td>
            </tr>
            <tr>
                <td class="menu" valign="top" width="200px">
                    <a href="http://htmlcleaner.sourceforge.net/index.php">
                        <img src="./1_files/logo.jpg" border="0">
                    </a>
                    <div style="padding:20px"></div>
                    
                    <table cellpadding="0" cellspacing="0" width="100%">
                                                  <tbody><tr class="menurow" onclick="gotoPage(&#39;index.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Home</td>
                                    <td class="menutem2" align="right">
                                      01                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;parameters.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Setting Behavior</td>
                                    <td class="menutem2" align="right">
                                      02                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;javause.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Java code usage</td>
                                    <td class="menuitem2sel" align="right">
                                      03                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;commandlineuse.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Command line usage</td>
                                    <td class="menutem2" align="right">
                                      04                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;antuse.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Ant usage</td>
                                    <td class="menutem2" align="right">
                                      05                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;download.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Download</td>
                                    <td class="menutem2" align="right">
                                      06                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;release.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Release notes</td>
                                    <td class="menutem2" align="right">
                                      07                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;doc/index.html&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Java Doc</td>
                                    <td class="menutem2" align="right">
                                      08                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;license.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>License</td>
                                    <td class="menutem2" align="right">
                                      09                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;http://sourceforge.net/forum/?group_id=183053&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Forums</td>
                                    <td class="menutem2" align="right">
                                      10                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                                  <tr class="menurow" onclick="gotoPage(&#39;contact.php&#39;)" onmouseover="menuRowOver(this)" onmouseout="menuRowOut(this)">
                            <td class="menuitem">
                                <table cellspacing="0" cellpadding="0" width="100%">
                                  <tbody><tr>
                                    <td>Contact</td>
                                    <td class="menutem2" align="right">
                                      11                                    </td>
                                  </tr>
                                </tbody></table>
                            </td>
                          </tr>
                                            </tbody></table>
                    
                    <div style="padding-top:20px;">
                        <a href="http://sourceforge.net/projects/htmlcleaner">
                            <img src="./1_files/sflogo.php" border="0" alt="HtmlCleaner at SourceForge">
                        </a>
                    </div>
                </td>
                <td valign="top" width="600px">
                    <div class="main">


<h2><span class="firstword">Java</span> code usage</h2> 

<div class="content">
  <ul>
    <li><a href="http://htmlcleaner.sourceforge.net/javause.php#tipical_use">Common usage</a></li>
    <!--<li><a href="#api">HtmlCleaner API</a></li>-->
    <li><a href="http://htmlcleaner.sourceforge.net/javause.php#custom_tag_infos">Providing custom tag info set</a></li>
    <li><a href="http://htmlcleaner.sourceforge.net/javause.php#example1">Example: Basic usage</a></li>
    <li><a href="http://htmlcleaner.sourceforge.net/javause.php#example2">Example: Use cleaner from multiple threads</a></li>
    <li><a href="http://htmlcleaner.sourceforge.net/javause.php#example3">Example: Traverse DOM tree</a></li>
    <li><a href="http://htmlcleaner.sourceforge.net/javause.php#trans">Example: Setting cleaner transformations</a></li>
  </ul>
<div>


<a name="tipical_use"></a>
<h3>Common usage</h3>

<p>
    Tipically the following steps are taken:
</p>

<pre class="java"><span class="co1">// create an instance of HtmlCleaner</span>
HtmlCleaner cleaner = <span class="kw2">new</span> HtmlCleaner<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// take default cleaner properties</span>
CleanerProperties props = cleaner.<span class="me1">getProperties</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// customize cleaner's behaviour with property setters</span>
props.<span class="me1">setXXX</span><span class="br0">(</span>...<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// Clean HTML taken from simple string, file, URL, input stream, </span>
<span class="co1">// input source or reader. Result is root node of created </span>
<span class="co1">// tree-like structure. Single cleaner instance may be safely used</span>
<span class="co1">// multiple times.</span>
TagNode node = cleaner.<span class="me1">clean</span><span class="br0">(</span>...<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// optionally find parts of the DOM or modify some nodes</span>
TagNode<span class="br0">[</span><span class="br0">]</span> myNodes = node.<span class="me1">getElementsByXXX</span><span class="br0">(</span>...<span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// and/or</span>
<span class="kw3">Object</span><span class="br0">[</span><span class="br0">]</span> myNodes = node.<span class="me1">evaluateXPath</span><span class="br0">(</span>xPathExpression<span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// and/or</span>
aNode.<span class="me1">removeFromTree</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// and/or</span>
aNode.<span class="me1">addAttribute</span><span class="br0">(</span>attName, attValue<span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// and/or</span>
aNode.<span class="me1">removeAttribute</span><span class="br0">(</span>attName, attValue<span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// and/or</span>
cleaner.<span class="me1">setInnerHtml</span><span class="br0">(</span>aNode, htmlContent<span class="br0">)</span><span class="sy0">;</span>
<span class="co1">// and/or do some other tree manipulation/traversal</span>
&nbsp;
<span class="co1">// serialize a node to a file, output stream, DOM, JDom...</span>
<span class="kw2">new</span> XXXSerializer<span class="br0">(</span>props<span class="br0">)</span>.<span class="me1">writeXmlXXX</span><span class="br0">(</span>aNode, ...<span class="br0">)</span><span class="sy0">;</span>
myJDom = <span class="kw2">new</span> JDomSerializer<span class="br0">(</span>props, <span class="kw2">true</span><span class="br0">)</span>.<span class="me1">createJDom</span><span class="br0">(</span>aNode<span class="br0">)</span><span class="sy0">;</span>
myDom = <span class="kw2">new</span> DomSerializer<span class="br0">(</span>props, <span class="kw2">true</span><span class="br0">)</span>.<span class="me1">createDOM</span><span class="br0">(</span>aNode<span class="br0">)</span><span class="sy0">;</span>
&nbsp;</pre>
<!--
<a name="api"></a>
<h3>HtmlCleaner API</h3>

<p>Create cleaner instance:</p>
<div class="element_desc">
    <table cellspacing="0" cellpadding="2">
        <tr>
            <th>Constructor or method</th>
            <th>Purpose</th>
        </tr>
        <tr>
            <td nowrap>
                <code><a href="doc/org/htmlcleaner/HtmlCleaner.html#HtmlCleaner()">HtmlCleaner()</a></code>            
            </td>
            <td>
                Create cleaner with default tag information provider.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code><a href="doc/org/htmlcleaner/HtmlCleaner.html#HtmlCleaner(org.htmlcleaner.ITagInfoProvider)">HtmlCleaner(ITagInfoProvider)</a></code>            
            </td>
            <td>
                Create cleaner with custom tag information provider.
            </td>
        </tr>
    </table>
</div>


<p>Set cleaner properties in order to tune its behavior:</p>
<div class="element_desc">
    <table cellspacing="0" cellpadding="2">
        <tr>
            <th>Constructor or method</th>
            <th>Purpose</th>
        </tr>
        <tr>
            <td nowrap>
                <code><a href="doc/org/htmlcleaner/HtmlCleaner.html#getProperties()">HtmlCleaner.getProperties()</a></code>            
            </td>
            <td>
                Get properties instance of the cleaner.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>class <a href="doc/org/htmlcleaner/CleanerProperties.html">CleanerProperties</a>:</code><br><br>
                <code>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setAdvancedXmlEscape(boolean)">setAdvancedXmlEscape(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setUseCdataForScriptAndStyle(boolean)">setUseCdataForScriptAndStyle(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setTranslateSpecialEntities(boolean)">setTranslateSpecialEntities(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setRecognizeUnicodeChars(boolean)">setRecognizeUnicodeChars(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setOmitUnknownTags(boolean)">setOmitUnknownTags(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setTreatUnknownTagsAsContent(boolean)">setTreatUnknownTagsAsContent(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setOmitDeprecatedTags(boolean)">setOmitDeprecatedTags(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setTreatDeprecatedTagsAsContent(boolean)">setTreatDeprecatedTagsAsContent(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setOmitComments(boolean)">setOmitComments(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setOmitXmlDeclaration(boolean)">setOmitXmlDeclaration(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setOmitDoctypeDeclaration(boolean)">setOmitDoctypeDeclaration(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setOmitHtmlEnvelope(boolean)">setOmitHtmlEnvelope(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setUseEmptyElementTags(boolean)">setUseEmptyElementTags(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setAllowMultiWordAttributes(boolean)">setAllowMultiWordAttributes(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setAllowHtmlInsideAttributes(boolean)">setAllowHtmlInsideAttributes(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setIgnoreQuestAndExclam(boolean)">setIgnoreQuestAndExclam(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setNamespacesAware(boolean)">setNamespacesAware(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setHyphenReplacementInComment(java.lang.String)">setHyphenReplacementInComment(String)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setPruneTags(java.lang.String)">setPruneTags(String)</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#setBooleanAttributeValues(java.lang.String)">setBooleanAttributeValues(String)</a>
                </code>            
            </td>
            <td>
                Property setters
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>class <a href="doc/org/htmlcleaner/CleanerProperties.html">CleanerProperties</a>:</code><br><br>
                <code>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#getTagInfoProvider()">getTagInfoProvider()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isAdvancedXmlEscape()">isAdvancedXmlEscape()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isUseCdataForScriptAndStyle()">isUseCdataForScriptAndStyle()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isTranslateSpecialEntities()">isTranslateSpecialEntities()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isRecognizeUnicodeChars()">isRecognizeUnicodeChars()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isOmitUnknownTags()">isOmitUnknownTags()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isOmitDeprecatedTags()">isOmitDeprecatedTags()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isTreatUnknownTagsAsContent()">isTreatUnknownTagsAsContent()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isTreatDeprecatedTagsAsContent()">isTreatDeprecatedTagsAsContent()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isOmitComments()">isOmitComments()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isOmitXmlDeclaration()">isOmitXmlDeclaration()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isOmitDoctypeDeclaration()">isOmitDoctypeDeclaration()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isOmitHtmlEnvelope()">isOmitHtmlEnvelope()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isUseEmptyElementTags()">isUseEmptyElementTags()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isAllowMultiWordAttributes()">isAllowMultiWordAttributes()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isAllowHtmlInsideAttributes()">isAllowHtmlInsideAttributes()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isIgnoreQuestAndExclam()">isIgnoreQuestAndExclam()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#isNamespacesAware()">isNamespacesAware()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#getHyphenReplacementInComment()">getHyphenReplacementInComment()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#getPruneTags()">getPruneTags()</a> <br>
                    <a href="doc/org/htmlcleaner/CleanerProperties.html#getBooleanAttributeValues()">getBooleanAttributeValues()</a> <br>
                </code>            
            </td>
            <td>
                Property getters
            </td>
        </tr>
    </table>
</div>


<p>Set cleaner transformations:<span class="new">new!</span></p>
<div class="element_desc">
    <table cellspacing="0" cellpadding="2">
        <tr>
            <th>Constructor or method</th>
            <th>Purpose</th>
        </tr>
        <tr>
            <td nowrap>
                <code>
                    <a href="doc/org/htmlcleaner/CleanerTransformations.html">CleanerTransformations()</a></code>
                <code>
            </td>
            <td>
                Create collection of transformations.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>
                    <a href="doc/org/htmlcleaner/TagTransformation.html">TagTransformation(String, String, boolean)</a></code>
                <code>
            </td>
            <td>
                Create single tag transformation.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>
                    <a href="doc/org/htmlcleaner/CleanerTransformations.html#addTransformation(org.htmlcleaner.TagTransformation)">CleanerTransformations.<br>addTransformation(TagTransformation)</a></code>
                <code>
            </td>
            <td>
                Add tag transormation to transformations collection.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>
                    <a href="doc/org/htmlcleaner/TagTransformation.html#addAttributeTransformation(java.lang.String, java.lang.String)">TagTransformation.<br>addAttributeTransformation(String, String)</a></code>
                <code>
            </td>
            <td>
                Specify attribute transformation for the tag transformation.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#setTransformations(org.htmlcleaner.CleanerTransformations)">HtmlCleaner.<br>setTransformations(CleanerTransformations)</a></code>
                <code>
            </td>
            <td>
                Set cleaner transformations.
            </td>
        </tr>
    </table>
</div>


<p>Clean HTML with instance of HtmlCleaner:</p>
<div class="element_desc">
    <table cellspacing="0" cellpadding="2">
        <tr>
            <th>Constructor or method</th>
            <th>Purpose</th>
        </tr>
        <tr>
            <td nowrap>
                <code>class <a href="doc/org/htmlcleaner/HtmlCleaner.html">HtmlCleaner</a>:</code><br><br>
                <code>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.lang.String)">clean(String)</a> <br>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.io.File)">clean(File)</a> <br>                    
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.io.File,%20java.lang.String)">clean(File, String)</a> <br>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.net.URL)">clean(URL)</a> <br>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.net.URL,%20java.lang.String)">clean(URL, String)</a> <br>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.io.InputStream)">clean(InputStream)</a> <br>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.io.InputStream,%20java.lang.String)">clean(InputStream, String)</a> <br>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#clean(java.io.Reader)">clean(Reader)</a>
                </code>            
            </td>
            <td>
                Clean HTML that comes from verious sources.
            </td>
        </tr>
    </table>
</div>


<p>Search cleaned DOM and modify its structure:</p>
<div class="element_desc">
    <table cellspacing="0" cellpadding="2">
        <tr>
            <th>Constructor or method</th>
            <th>Purpose</th>
        </tr>
        <tr>
            <td nowrap>
                <code>class <a href="doc/org/htmlcleaner/TagNode.html">TagNode</a>:</code><br><br>
                <code>
                    <a href="doc/org/htmlcleaner/TagNode.html#getAttributeByName(java.lang.String)">getAttributeByName(String)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getAttributes()">getAttributes()</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#hasAttribute(java.lang.String)">hasAttribute(String)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#addAttribute(java.lang.String,%20java.lang.String)">addAttribute(String, String)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#removeAttribute(java.lang.String)">removeAttribute(String)</a>
                </code>
            </td>
            <td>
                Work with node (tag) attributes
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>class <a href="doc/org/htmlcleaner/TagNode.html">TagNode</a>:</code><br><br>
                <code>
                    <a href="doc/org/htmlcleaner/TagNode.html#getChildTagList()">getChildTagList()</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getChildTags()">getChildTags()</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getText()">getText()</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getParent()">getParent()</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#addChild(java.lang.Object)">addChild(Object)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#addChildren(java.util.List)">addChildren(List)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#removeFromTree()">removeFromTree()</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#removeChild(java.lang.Object)">removeChild(Object)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getAllElementsList(boolean)">getAllElementsList(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getAllElements(boolean)">getAllElements(boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#findElementByName(java.lang.String,%20boolean)">findElementByName(String, boolean)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getElementListByName(java.lang.String,%20boolean)">getElementListByName(s, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getElementsByName(java.lang.String,%20boolean)">getElementsByName(s, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#findElementHavingAttribute(java.lang.String,%20boolean)">findElementHavingAttribute(s, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getElementListHavingAttribute(java.lang.String,%20boolean)">getElementListHavingAttribute(s, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getElementsHavingAttribute(java.lang.String,%20boolean)">getElementsHavingAttribute(s, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#findElementByAttValue(java.lang.String,%20java.lang.String,%20boolean,%20boolean)">findElementByAttValue(s, s, b, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getElementListByAttValue(java.lang.String,%20java.lang.String,%20boolean,%20boolean)">getElementListByAttValue(s, s, b, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#getElementsByAttValue(java.lang.String,%20java.lang.String,%20boolean,%20boolean)">getElementsByAttValue(s, s, b, b)</a> <br>
                    <a href="doc/org/htmlcleaner/TagNode.html#evaluateXPath(java.lang.String)">evaluateXPath(String)</a> <br>
                </code>            
            </td>
            <td>
                Find and modify nodes.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>
                    <a href="doc/org/htmlcleaner/HtmlCleaner.html#setInnerHtml(org.htmlcleaner.TagNode,%20java.lang.String)">HtmlCleaner.setInnerHtml(TagNode, String)</a> <br>
                </code>            
            </td>
            <td>
                Cleans given portion of HTML and stores it in specified tag node.
            </td>
        </tr>
    </table>
</div>


<p>Serialize DOM nodes:</p>
<div class="element_desc">
    <table cellspacing="0" cellpadding="2">
        <tr>
            <th>Constructor or method</th>
            <th>Purpose</th>
        </tr>
        <tr>
            <td nowrap>
                <code>
                  <a href="doc/org/htmlcleaner/SimpleXmlSerializer.html">SimpleXmlSerializer(CleanerProperties)</a> <br>
                  <a href="doc/org/htmlcleaner/CompactXmlSerializer.html">CompactXmlSerializer(CleanerProperties)</a> <br>
                  <a href="doc/org/htmlcleaner/BrowserCompactXmlSerializer.html">BrowserCompactXmlSerializer(CleanerProperties)</a> <br>
                  <a href="doc/org/htmlcleaner/PrettyXmlSerializer.html">PrettyXmlSerializer(CleanerProperties)</a> <br>
                  <a href="doc/org/htmlcleaner/DomSerializer.html">DomSerializer(CleanerProperties, boolean)</a> <br>
                  <a href="doc/org/htmlcleaner/JDomSerializer.html">JDomSerializer(CleanerProperties, boolean)</a>
                </code>
            </td>
            <td>
              Create various kinds of XML serializers.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>class <a href="doc/org/htmlcleaner/XmlSerializer.html">XmlSerializer</a>:</code><br><br>
                <code>
                  <a href="doc/org/htmlcleaner/XmlSerializer.html#writeXmlToStream(org.htmlcleaner.TagNode,%20java.io.OutputStream,%20java.lang.String)">writeXmlToStream(TagNode, OutputStream, String)</a> <br>
                  <a href="doc/org/htmlcleaner/XmlSerializer.html#writeXmlToStream(org.htmlcleaner.TagNode,%20java.io.OutputStream)">writeXmlToStream(TagNode, OutputStream)</a> <br>
                  <a href="doc/org/htmlcleaner/XmlSerializer.html#writeXmlToFile(org.htmlcleaner.TagNode,%20java.lang.String,%20java.lang.String)">writeXmlToFile(TagNode, String, String)</a> <br>
                  <a href="doc/org/htmlcleaner/XmlSerializer.html#writeXmlToFile(org.htmlcleaner.TagNode,%20java.lang.String)">writeXmlToFile(TagNode, String)</a> <br>
                  <a href="doc/org/htmlcleaner/XmlSerializer.html#getXmlAsString(org.htmlcleaner.TagNode)">getXmlAsString(TagNode, String)</a> <br>
                  <a href="doc/org/htmlcleaner/XmlSerializer.html#writeXml(org.htmlcleaner.TagNode,%20java.io.Writer,%20java.lang.String)">writeXml(TagNode, Writer, String)</a>
                </code>            
            </td>
            <td>
              Serialize node to different outputs.
            </td>
        </tr>
        <tr>
            <td nowrap>
                <code>
                  <a href="doc/org/htmlcleaner/DomSerializer.html#createDOM(org.htmlcleaner.TagNode)">DomSerializer.createDOM(TagNode)</a> <br>
                  <a href="doc/org/htmlcleaner/JDomSerializer.html#createJDom(org.htmlcleaner.TagNode)">JDomSerializer.createJDom(TagNode)</a> <br>
                </code>            
            </td>
            <td>
              Create common DOM objects out of cleaned HTML.
            </td>
        </tr>
    </table>
</div>
-->

<a name="custom_tag_infos"></a>
<h3>Providing custom tag info set</h3>

<p>
    HtmlCleaner implements default HTML tag set and rules for their balancing, that 
    is similar to the browsers' behavior. However, user is free to implement interface 
    <a href="http://htmlcleaner.sourceforge.net/doc/org/htmlcleaner/ITagInfoProvider.html"><code>ITagInfoProvider</code></a> 
    or extend some of its imlementations in order to provide custom tag info set.
    The easiest way to do that is to write XML configuration file which describes all tags
    and their dependacies and use 
    <a href="http://htmlcleaner.sourceforge.net/doc/org/htmlcleaner/ConfigFileTagProvider.html"><code>ConfigFileTagProvider</code></a> like:
</p>    

    <pre class="java">HtmlCleaner cleaner = 
    <span class="kw2">new</span> HtmlCleaner<span class="br0">(</span> <span class="kw2">new</span> ConfigFileTagProvider<span class="br0">(</span>myConfigFile<span class="br0">)</span> <span class="br0">)</span><span class="sy0">;</span>
&nbsp;</pre>    

<p>
    Perhaps the best starting point is <a href="http://htmlcleaner.sourceforge.net/default.xml">default tag ruleset description file</a>.
    It is the basis for 
    <a href="http://htmlcleaner.sourceforge.net/doc/org/htmlcleaner/DefaultTagProvider.html"><code>DefaultTagProvider</code></a>.
</p>
<p>    
    For example, someone may not like the rule that implicit TBODY is inserted before TR in the HTML table.
    To remove it, find <code>&lt;tag name="tr"...</code> element in the XML and remove <code>tbody</code> from
    <code>req-enclosing-tags</code> section.
</p> 


<a name="example1"></a>
<h3>Example: Basic usage</h3>
<pre class="java">CleanerProperties props = <span class="kw2">new</span> CleanerProperties<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// set some properties to non-default values</span>
props.<span class="me1">setTranslateSpecialEntities</span><span class="br0">(</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span>
props.<span class="me1">setTransResCharsToNCR</span><span class="br0">(</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span>
props.<span class="me1">setOmitComments</span><span class="br0">(</span><span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// do parsing</span>
TagNode tagNode = <span class="kw2">new</span> HtmlCleaner<span class="br0">(</span>props<span class="br0">)</span>.<span class="me1">clean</span><span class="br0">(</span>
    <span class="kw2">new</span> <span class="kw3">URL</span><span class="br0">(</span><span class="st0">"http://www.chinadaily.com.cn/"</span><span class="br0">)</span>
<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// serialize to xml file</span>
<span class="kw2">new</span> PrettyXmlSerializer<span class="br0">(</span>props<span class="br0">)</span>.<span class="me1">writeToFile</span><span class="br0">(</span>
    tagNode, <span class="st0">"chinadaily.xml"</span>, <span class="st0">"utf-8"</span>
<span class="br0">)</span><span class="sy0">;</span>
&nbsp;</pre>
<a name="example2"></a>
<h3>Example: Use cleaner from multiple threads</h3>
<p>
    This example demonstrates HtmlCleaner thread-safety. Single instance can
    be used from multiple threads safely.
</p>
<pre class="java"><span class="kw2">final</span> CleanerProperties props = <span class="kw2">new</span> CleanerProperties<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw2">final</span> HtmlCleaner htmlCleaner = <span class="kw2">new</span> HtmlCleaner<span class="br0">(</span>props<span class="br0">)</span><span class="sy0">;</span>
<span class="kw2">final</span> SimpleHtmlSerializer htmlSerializer = 
    <span class="kw2">new</span> SimpleHtmlSerializer<span class="br0">(</span>props<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// make 10 threads using the same cleaner and the same serializer </span>
<span class="kw1">for</span> <span class="br0">(</span><span class="kw4">int</span> i = <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;</span>= <span class="nu0">10</span><span class="sy0">;</span> i++<span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">final</span> <span class="kw3">String</span> url = <span class="st0">"http://search.eim.ebay.eu/Art/2-1/?en=100&amp;ep="</span> + i<span class="sy0">;</span>
    <span class="kw2">final</span> <span class="kw3">String</span> fileName = <span class="st0">"c:/temp/ebay_art"</span> + i + <span class="st0">".xml"</span><span class="sy0">;</span>
    <span class="kw2">new</span> <span class="kw3">Thread</span><span class="br0">(</span><span class="kw2">new</span> <span class="kw3">Runnable</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
        <span class="kw2">public</span> <span class="kw4">void</span> run<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
            <span class="kw2">try</span> <span class="br0">{</span>
                TagNode tagNode = htmlCleaner.<span class="me1">clean</span><span class="br0">(</span><span class="kw2">new</span> <span class="kw3">URL</span><span class="br0">(</span>url<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                htmlSerializer.<span class="me1">writeToFile</span><span class="br0">(</span>tagNode, fileName, <span class="st0">"utf-8"</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span> <span class="kw2">catch</span> <span class="br0">(</span><span class="kw3">IOException</span> e<span class="br0">)</span> <span class="br0">{</span>
                e.<span class="me1">printStackTrace</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="br0">}</span>
        <span class="br0">}</span>
    <span class="br0">}</span><span class="br0">)</span>.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span>
&nbsp;</pre>
<a name="example3"></a>
<h3>Example: Traverse DOM tree</h3>
<p>
    Here node visitor concept is used to traverse the tree structure 
    and update some of the elements.
</p>
<pre class="java">HtmlCleaner cleaner = <span class="kw2">new</span> HtmlCleaner<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw2">final</span> <span class="kw3">String</span> siteUrl = <span class="st0">"http://www.themoscowtimes.com/"</span><span class="sy0">;</span>
&nbsp;
TagNode node = cleaner.<span class="me1">clean</span><span class="br0">(</span><span class="kw2">new</span> <span class="kw3">URL</span><span class="br0">(</span>siteUrl<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// traverse whole DOM and update images to absolute URLs</span>
node.<span class="me1">traverse</span><span class="br0">(</span><span class="kw2">new</span> TagNodeVisitor<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">public</span> <span class="kw4">boolean</span> visit<span class="br0">(</span>TagNode tagNode, HtmlNode htmlNode<span class="br0">)</span> <span class="br0">{</span>
        <span class="kw1">if</span> <span class="br0">(</span>htmlNode <span class="kw2">instanceof</span> TagNode<span class="br0">)</span> <span class="br0">{</span>
            TagNode tag = <span class="br0">(</span>TagNode<span class="br0">)</span> htmlNode<span class="sy0">;</span>
            <span class="kw3">String</span> tagName = tag.<span class="me1">getName</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">(</span><span class="st0">"img"</span>.<span class="me1">equals</span><span class="br0">(</span>tagName<span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span>
                <span class="kw3">String</span> src = tag.<span class="me1">getAttributeByName</span><span class="br0">(</span><span class="st0">"src"</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">(</span>src <span class="sy0">!</span>= <span class="kw2">null</span><span class="br0">)</span> <span class="br0">{</span>
                    tag.<span class="me1">setAttribute</span><span class="br0">(</span><span class="st0">"src"</span>, Utils.<span class="me1">fullUrl</span><span class="br0">(</span>siteUrl, src<span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
                <span class="br0">}</span>
            <span class="br0">}</span>
        <span class="br0">}</span> <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>htmlNode <span class="kw2">instanceof</span> CommentNode<span class="br0">)</span> <span class="br0">{</span>
            CommentNode comment = <span class="br0">(</span><span class="br0">(</span>CommentNode<span class="br0">)</span> htmlNode<span class="br0">)</span><span class="sy0">;</span> 
            comment.<span class="me1">getContent</span><span class="br0">(</span><span class="br0">)</span>.<span class="me1">append</span><span class="br0">(</span><span class="st0">" -- By HtmlCleaner"</span><span class="br0">)</span><span class="sy0">;</span>
        <span class="br0">}</span>
        <span class="co1">// tells visitor to continue traversing the DOM tree</span>
        <span class="kw2">return</span> <span class="kw2">true</span><span class="sy0">;</span>
    <span class="br0">}</span>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
SimpleHtmlSerializer serializer = 
    <span class="kw2">new</span> SimpleHtmlSerializer<span class="br0">(</span>cleaner.<span class="me1">getProperties</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
serializer.<span class="me1">writeToFile</span><span class="br0">(</span>node, <span class="st0">"c:/temp/themoscowtimes.html"</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;</pre>
<a name="trans"></a>
<h3>Example: Setting cleaner transformations</h3>
<p>
    Following code snippet demonstrates how to set tranformations from 
    the <a href="http://htmlcleaner.sourceforge.net/parameters.php#transform">example</a>:
</p>

<pre class="java">...
<span class="me1">HtmlCleaner</span> cleaner = <span class="kw2">new</span> HtmlCleaner<span class="br0">(</span>...<span class="br0">)</span><span class="sy0">;</span>
...
<span class="me1">CleanerTransformations</span> transformations = 
    <span class="kw2">new</span> CleanerTransformations<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
TagTransformation tt = <span class="kw2">new</span> TagTransformation<span class="br0">(</span><span class="st0">"cfoutput"</span><span class="br0">)</span><span class="sy0">;</span>
transformations.<span class="me1">addTransformation</span><span class="br0">(</span>tt<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
tt = <span class="kw2">new</span> TagTransformation<span class="br0">(</span><span class="st0">"c:block"</span>, <span class="st0">"div"</span>, <span class="kw2">false</span><span class="br0">)</span><span class="sy0">;</span>
transformations.<span class="me1">addTransformation</span><span class="br0">(</span>tt<span class="br0">)</span><span class="sy0">;</span>
&nbsp;
tt = <span class="kw2">new</span> TagTransformation<span class="br0">(</span><span class="st0">"font"</span>, <span class="st0">"span"</span>, <span class="kw2">true</span><span class="br0">)</span><span class="sy0">;</span>
tt.<span class="me1">addAttributeTransformation</span><span class="br0">(</span><span class="st0">"size"</span><span class="br0">)</span><span class="sy0">;</span>
tt.<span class="me1">addAttributeTransformation</span><span class="br0">(</span><span class="st0">"face"</span><span class="br0">)</span><span class="sy0">;</span>
tt.<span class="me1">addAttributeTransformation</span><span class="br0">(</span>
    <span class="st0">"style"</span>, 
    <span class="st0">"${style};font-family=${face};font-size=${size};"</span>
<span class="br0">)</span><span class="sy0">;</span>
transformations.<span class="me1">addTransformation</span><span class="br0">(</span>tt<span class="br0">)</span><span class="sy0">;</span>
...
<span class="me1">cleaner</span>.<span class="me1">getProperties</span><span class="br0">(</span><span class="br0">)</span>.<span class="me1">setCleanerTransformations</span><span class="br0">(</span>transformations<span class="br0">)</span><span class="sy0">;</span>
...
<span class="me1">TagNode</span> node = cleaner.<span class="me1">clean</span><span class="br0">(</span>...<span class="br0">)</span><span class="sy0">;</span> 
&nbsp;</pre>

                    </div>
                    <br>
                </div></div></td>
            </tr>
            <tr>
                <td colspan="2"><img src="./1_files/bottom.gif" border="0"></td>
            </tr>
            <tr>
                <td class="footer" align="center" colspan="2">
                    <br>
                    <em>Copyright © 2006-2018 by vnikic, patmoore and scottwilson at users.sourceforge.net</em>
                </td>
            </tr>
        </tbody></table>    
    

</body></html>